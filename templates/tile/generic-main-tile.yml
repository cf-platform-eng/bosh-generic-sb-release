---
name: DEPLOYMENT_NAME                                       # [1]
product_version: 'PRODUCT_VERSION'                            # [1]
label: Generic Service Broker Experimental
rank: 50
metadata_version: 'OPS_MGR_VERSION'                                    # [2]
icon_image: ICON_IMAGE
serial: true
releases:                                                  # [5]
- name: generic_release
  version: 'RELEASE_VERSION'
  file: generic_release-RELEASE_VERSION.tgz

# EDIT the stemcell version as required
stemcell_criteria:                                                  # [3]
  os: ubuntu-trusty
  version: 'STEMCELL_VERSION'
  requires_cpi: false

property_blueprints:
- name: encryption_key
  type: secret
- name: vm_credentials
  type: salted_credentials
  default:
    identity: vcap

form_types:                                                # [8]
- property_inputs:                                       # [9]

job_types:

- name: compilation
  resource_label: compilation
  resource_definitions:
   - name: ram
     type: integer
     configurable: true
     default: 1_024
   - name: ephemeral_disk
     type: integer
     configurable: true
     default: 1024
   - name: persistent_disk
     type: integer
     configurable: true
     default: 0
   - name: cpu
     type: integer
     configurable: true
     default: 2

  static_ip: 0
  dynamic_ip: 1
  max_in_flight: 1

  instance_definitions:
    - name: instances
      type: integer
      default: 1

update:
  canaries: 1
  canary_watch_time: 60000-240000
  max_in_flight: 1
  update_watch_time: 60000-240000

requires_product_versions:
- name: cf
  version: "~> 1.0"
provides_product_versions:
- name: generic_release
  version: 'RELEASE_VERSION'
post_deploy_errands:
pre_delete_errands:

